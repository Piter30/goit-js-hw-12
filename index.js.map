{"version":3,"file":"index.js","sources":["../src/js/app.js"],"sourcesContent":["import 'izitoast/dist/css/iziToast.min.css';\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport axios from 'axios';\n\nconst form = document.getElementById('search-form');\nconst gallery = document.getElementById('gallery');\nconst loader = document.getElementById('loader');\nconst loadMoreContainer = document.querySelector('.load-more-container');\nconst loadMoreBtn = document.getElementById('load-more');\n\nloadMoreBtn.textContent = 'Load more';\nloadMoreBtn.style.display = 'none';\nloadMoreContainer.appendChild(loadMoreBtn);\n\nconst API_KEY = '45874849-b987a1554bc8f853b4bc2ad05';\nlet currentPage = 1;\nlet currentQuery = '';\n\nform.addEventListener('submit', async e => {\n  e.preventDefault();\n  currentQuery = document.getElementById('search-query').value.trim();\n  if (currentQuery) {\n    currentPage = 1;\n    gallery.innerHTML = '';\n    loadMoreBtn.style.display = 'none';\n    await searchImages(currentQuery, currentPage);\n  } else {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search term!',\n    });\n  }\n});\n\nasync function searchImages(query, page) {\n  loader.style.display = 'block';\n\n  try {\n    const response = await axios.get('https://pixabay.com/api/', {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        page: page,\n        per_page: 40,\n      },\n    });\n\n    loader.style.display = 'none';\n\n    if (response.data.hits.length > 0) {\n      displayImages(response.data.hits);\n      loadMoreBtn.style.display = 'block';\n    } else {\n      iziToast.error({\n        title: 'No Results',\n        message: 'Sorry, no images found. Please try again!',\n      });\n    }\n  } catch (error) {\n    loader.style.display = 'none';\n    iziToast.error({\n      title: 'Error',\n      message: 'Something went wrong. Please try again!',\n    });\n  }\n}\n\nfunction displayImages(images) {\n  const galleryItems = images\n    .map(\n      image => `\n        <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n            <div class=\"image-info\">\n              <span><i class=\"fas fa-heart\"></i> ${image.likes}</span>\n              <span><i class=\"fas fa-eye\"></i> ${image.views}</span>\n              <span><i class=\"fas fa-comments\"></i> ${image.comments}</span>\n              <span><i class=\"fas fa-download\"></i> ${image.downloads}</span>\n            </div>\n        </a>\n    `\n    )\n    .join('');\n  gallery.innerHTML += galleryItems;\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n}\n\nloadMoreBtn.addEventListener('click', async () => {\n  currentPage++;\n  await searchImages(currentQuery, currentPage);\n});\n"],"names":["form","gallery","loader","loadMoreContainer","loadMoreBtn","API_KEY","currentPage","currentQuery","e","searchImages","iziToast","query","page","response","axios","displayImages","images","galleryItems","image","SimpleLightbox"],"mappings":"owBAOA,MAAMA,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAoB,SAAS,cAAc,sBAAsB,EACjEC,EAAc,SAAS,eAAe,WAAW,EAEvDA,EAAY,YAAc,YAC1BA,EAAY,MAAM,QAAU,OAC5BD,EAAkB,YAAYC,CAAW,EAEzC,MAAMC,EAAU,qCAChB,IAAIC,EAAc,EACdC,EAAe,GAEnBP,EAAK,iBAAiB,SAAU,MAAMQ,GAAK,CACzCA,EAAE,eAAc,EAChBD,EAAe,SAAS,eAAe,cAAc,EAAE,MAAM,OACzDA,GACFD,EAAc,EACdL,EAAQ,UAAY,GACpBG,EAAY,MAAM,QAAU,OAC5B,MAAMK,EAAaF,EAAcD,CAAW,GAE5CI,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACf,CAAK,CAEL,CAAC,EAED,eAAeD,EAAaE,EAAOC,EAAM,CACvCV,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAMW,EAAW,MAAMC,EAAM,IAAI,2BAA4B,CAC3D,OAAQ,CACN,IAAKT,EACL,EAAGM,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,KAAMC,EACN,SAAU,EACX,CACP,CAAK,EAEDV,EAAO,MAAM,QAAU,OAEnBW,EAAS,KAAK,KAAK,OAAS,GAC9BE,EAAcF,EAAS,KAAK,IAAI,EAChCT,EAAY,MAAM,QAAU,SAE5BM,EAAS,MAAM,CACb,MAAO,aACP,QAAS,2CACjB,CAAO,CAEJ,MAAe,CACdR,EAAO,MAAM,QAAU,OACvBQ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yCACf,CAAK,CACF,CACH,CAEA,SAASK,EAAcC,EAAQ,CAC7B,MAAMC,EAAeD,EAClB,IACCE,GAAS;AAAA,mBACIA,EAAM,aAAa;AAAA,wBACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,mDAEXA,EAAM,KAAK;AAAA,iDACbA,EAAM,KAAK;AAAA,sDACNA,EAAM,QAAQ;AAAA,sDACdA,EAAM,SAAS;AAAA;AAAA;AAAA,KAIhE,EACA,KAAK,EAAE,EACVjB,EAAQ,WAAagB,EAEJ,IAAIE,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAClB,CAAG,EACQ,QAAO,CAClB,CAEAf,EAAY,iBAAiB,QAAS,SAAY,CAChDE,IACA,MAAMG,EAAaF,EAAcD,CAAW,CAC9C,CAAC"}